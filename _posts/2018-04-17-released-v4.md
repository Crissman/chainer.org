---
title: Released Chainer/CuPy v4.0.0
layout: post
categories: Announcement
---

We have released Chainer and CuPy v4.0.0 today!
There are a plenty of updates made in this major update, especially for accelerating the computation in deep learning.
The following is a selected list of updates (full updates can be seen in the release notes (**TODO: link**)).
Note that some of these updates are also backported to v3 series.

- **iDeep support**.
  [iDeep](https://github.com/intel/ideep) is a package that provides DNN standard routines optimized to Intel Architecture.
  Chainer starts supporting these routines in many functions.
  **TODO: show the benchmark result here.**
  To use this feature, install `ideep4py` with pip and set an environment variable `CHAINER_USE_IDEEP=auto`.
  More tips are found in **TODO**.
- **Wheel packages for CuPy**.
  The installation is super-fast than the conventional sdist package.
  Currently, different packages are provided for each CUDA version: `cupy-cuda80`, `cupy-cuda90`, and `cupy-cuda91`.
  **Note that cuDNN and NCCL are bundled into these packages, so you do not need to prepare them anymore**.
  You still have to install CUDA by yourself and set paths correctly.
- **cuDNN convolution autotuner**.
  It uses cuDNN API to automatically select the best kernel to use in the current environment.
  To use this feature, set `chainer.config.autotune = True`.
- **Better FP16 training support**.
  Training with `float16` sometimes requires extra techniques to deal with low precision computation, which are summarized in [Mixed Precision User Guide](http://docs.nvidia.com/deeplearning/sdk/mixed-precision-training/index.html) by NVIDIA.
  Chainer v4 provides these techniques:
  TensorCore is automatically used if available,
  loss scaling is enabled by passing `loss_scale` option to optimizers,
  and `float32` master weight is used once you call `Optimizer.use_fp32_update`.
- Most functions are rewritten in a new-style way and start supporting double backprop.

We recommend you to update to the latest version of Chainer and CuPy.
If you want to switch to the wheel package of CuPy, you first have to uninstall the current version and then install the wheel version.
Updating Chainer should be done as usual with the command `pip install -U chainer`.

We appreciate any feedback.
You can ask questions or leave comments at [gitter](https://gitter.im/chainer), [Slack](https://bit.ly/join-chainer-slack), [Google Groups](https://bit.ly/join-chainer-slack), and [StackOverflow](https://stackoverflow.com/questions/tagged/chainer).

The major release also means that the development of the next version has started.
We are currently planning following features for Chainer and CuPy v5 (not exclusive, not a promise).

- Static subgraph caching and optimization
- Baseline experiment code generator
- FP16 mode
- NumPy-compatible interface for `chainer.Variable`
- ChainerMN integration
- TensorComprehensions support in CuPy
- AMD GPU support in CuPy via HIP/ROCm

We hope this major update accelerates machine learning research.
